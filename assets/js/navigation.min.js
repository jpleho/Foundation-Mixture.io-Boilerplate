$(document).ready(function(){var e=[{label:"Operations",icon:"fa-camera-retro",href:"/operations",caret_html:'<i class="fa fa-chevron-right"></i><i class="fa fa-chevron-down"></i>',children:[{id:"ready-to-pick",label:"Ready to pick",icon:"fa-wifi",href:"#",children:[{label:"Carrier",icon:"fa-bell-o",href:"/docs/advanced/navigation"},{label:"Rail",icon:"fa-cc",href:"#"},{label:"Air",icon:"fa-circle",href:"#"}]},{label:"In transit",icon:"fa-soccer-ball-o",href:"#"}]},{label:"Tracking",icon:"fa-bus",href:"#"}],a={target:$(".nav-test"),items:e,html:"",attach_events:function(){$(".js-subnav-toggle").on("click",a.toggle_children)},toggle_children:function(e){e.preventDefault();var a=$(this).is("span")?$(this).parent():$(this);a.parent().toggleClass("open"),a.next(".subnav-list").slideToggle()},set_active:function(){$(".current-page").length||$(".nav-side").find('[href="'+window.location.pathname+'"]').parent().addClass("current-page"),$(".current-page").parents(".subnav-list").css("display","block"),$(".current-page").parents(".has-children").addClass("current-page-ancestor open")},init:function(){console.log("Nav init"),$(".side-nav-handler").length&&(console.log("active defined"),a.active=$(".side-nav-handler").attr("id")),a.render()},render:function(){a.target.html('<nav class="nav-side"><ul class="nav-list nav-list-root"></ul></nav>'),$.each(a.items,function(e,n){a.html+=a.render_item(n),e===a.items.length-1&&($(".nav-list-root").html(a.html),a.attach_events(),a.set_active())})},render_item:function(e){var n=e.id&&e.id===a.active?" current-page":"",t=e.children&&e.children.length,i=t?" has-children":"",l=t&&"#"===e.href?"js-subnav-toggle":"",r='<li class="'+i+n+'">';if(r+='<a class="nav-side__item '+l+'" href="'+e.href+'">',e.icon&&(r+='<i class="nav-side__item__icon fa '+e.icon+'"></i>'),r+=e.label,t){var c="#"!==e.href?"js-subnav-toggle":"",s=e.caret_html?e.caret_html:'<i class="fa fa-caret-right"></i><i class="fa fa-caret-down"></i>';r+=' <span class="nav-side__item__toggle '+c+'">'+s+"</span>"}return r+="</a>",t&&(r+='<ul class="subnav-list">',$.each(e.children,function(e,n){r+=a.render_item(n)}),r+="</ul>"),r+="</li>"}};a.init()});